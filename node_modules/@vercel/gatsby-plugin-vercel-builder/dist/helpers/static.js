"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createStaticDir = void 0;
const path_1 = require("path");
const fs_extra_1 = require("fs-extra");
async function createStaticDir(prefix) {
    const publicDir = path_1.join(process.cwd(), 'public');
    const targetDir = path_1.join(process.cwd(), '.vercel', 'output', 'static', prefix ?? '');
    await fs_extra_1.ensureDir(path_1.dirname(targetDir));
    try {
        await fs_extra_1.move(publicDir, targetDir);
    }
    catch (err) {
        console.error(`Failed to move "public" dir from "${publicDir}" to "${targetDir}". Copying instead.`, err);
        await fs_extra_1.copy(publicDir, targetDir);
    }
}
exports.createStaticDir = createStaticDir;
//# sourceMappingURL=static.js.map